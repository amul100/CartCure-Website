<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CartCure Email Templates Preview</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background-color: #f5f5f5;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    header {
      background-color: #2d5d3f;
      color: white;
      padding: 20px 30px;
      text-align: center;
    }
    header h1 {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 5px;
    }
    header p {
      font-size: 14px;
      opacity: 0.8;
    }
    .controls {
      background-color: white;
      border-bottom: 1px solid #ddd;
      padding: 15px 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
    }
    .select-wrapper {
      position: relative;
      flex: 1;
      max-width: 400px;
      min-width: 200px;
    }
    #emailSelector {
      width: 100%;
      padding: 12px 40px 12px 15px;
      font-size: 15px;
      border: 2px solid #d4cfc3;
      border-radius: 6px;
      background-color: white;
      cursor: pointer;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }
    #emailSelector:focus {
      outline: none;
      border-color: #2d5d3f;
    }
    .select-wrapper::after {
      content: "";
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      border: 5px solid transparent;
      border-top-color: #666;
      pointer-events: none;
    }
    .nav-buttons {
      display: flex;
      gap: 10px;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 12px 20px;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s, transform 0.1s;
    }
    .btn:active {
      transform: scale(0.98);
    }
    .btn-nav {
      background-color: #f0f0f0;
      color: #333;
    }
    .btn-nav:hover:not(:disabled) {
      background-color: #e0e0e0;
    }
    .btn-nav:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }
    main {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 30px 20px;
      background-color: #e8e8e8;
      overflow: auto;
    }
    .preview-container {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      overflow: hidden;
      width: 100%;
      max-width: 660px;
    }
    #previewFrame {
      width: 100%;
      height: 800px;
      border: none;
      display: block;
    }
    footer {
      background-color: white;
      border-top: 1px solid #ddd;
      padding: 15px 30px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .counter {
      font-size: 14px;
      color: #666;
    }
    .counter strong {
      color: #2d5d3f;
    }
    .open-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 10px 16px;
      background-color: #2d5d3f;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      transition: background-color 0.2s;
    }
    .open-link:hover {
      background-color: #3a7a52;
    }
    .keyboard-hint {
      font-size: 12px;
      color: #999;
    }
    @media (max-width: 600px) {
      .controls {
        padding: 15px;
      }
      .select-wrapper {
        width: 100%;
        max-width: none;
      }
      .nav-buttons {
        width: 100%;
        justify-content: center;
      }
      footer {
        flex-direction: column;
        gap: 10px;
        text-align: center;
      }
      .keyboard-hint {
        display: none;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>CartCure Email Templates</h1>
    <p>Preview all email templates without sending test emails</p>
  </header>

  <div class="controls">
    <div class="select-wrapper">
      <select id="emailSelector">
        <optgroup label="Contact Form">
          <option value="01-admin-notification.html">01. Admin Notification</option>
          <option value="02-user-confirmation.html">02. User Confirmation</option>
        </optgroup>
        <optgroup label="Quotes">
          <option value="03-quote.html">03. Quote (under $200)</option>
          <option value="04-quote-with-deposit.html">04. Quote with Deposit ($200+)</option>
          <option value="05-quote-reminder.html">05. Quote Reminder</option>
        </optgroup>
        <optgroup label="Job Status">
          <option value="06-status-in-progress.html">06. Status: In Progress</option>
          <option value="07-status-on-hold.html">07. Status: On Hold</option>
          <option value="08-status-completed.html">08. Status: Completed</option>
        </optgroup>
        <optgroup label="Invoicing">
          <option value="09-invoice.html">09. Invoice</option>
          <option value="10-deposit-invoice.html">10. Deposit Invoice</option>
          <option value="11-invoice-reminder.html">11. Invoice Reminder</option>
          <option value="12-overdue-invoice.html">12. Overdue Invoice</option>
          <option value="13-payment-receipt.html">13. Payment Receipt</option>
        </optgroup>
      </select>
    </div>
    <div class="nav-buttons">
      <button class="btn btn-nav" id="prevBtn" title="Previous (Left Arrow)">
        <span>&#9664;</span> Prev
      </button>
      <button class="btn btn-nav" id="nextBtn" title="Next (Right Arrow)">
        Next <span>&#9654;</span>
      </button>
    </div>
  </div>

  <main>
    <div class="preview-container">
      <iframe id="previewFrame" src="01-admin-notification.html"></iframe>
    </div>
  </main>

  <footer>
    <span class="counter"><strong id="currentNum">1</strong> / <span id="totalNum">10</span></span>
    <span class="keyboard-hint">Use arrow keys to navigate</span>
    <a href="01-admin-notification.html" target="_blank" class="open-link" id="openInTab">
      Open in Tab &#8599;
    </a>
  </footer>

  <script>
    const emails = [
      '01-admin-notification.html',
      '02-user-confirmation.html',
      '03-quote.html',
      '04-quote-with-deposit.html',
      '05-quote-reminder.html',
      '06-status-in-progress.html',
      '07-status-on-hold.html',
      '08-status-completed.html',
      '09-invoice.html',
      '10-deposit-invoice.html',
      '11-invoice-reminder.html',
      '12-overdue-invoice.html',
      '13-payment-receipt.html'
    ];

    let currentIndex = 0;

    const selector = document.getElementById('emailSelector');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const frame = document.getElementById('previewFrame');
    const currentNum = document.getElementById('currentNum');
    const totalNum = document.getElementById('totalNum');
    const openInTab = document.getElementById('openInTab');

    totalNum.textContent = emails.length;

    function updateView() {
      const file = emails[currentIndex];
      frame.src = file;
      selector.value = file;
      currentNum.textContent = currentIndex + 1;
      openInTab.href = file;

      prevBtn.disabled = currentIndex === 0;
      nextBtn.disabled = currentIndex === emails.length - 1;
    }

    selector.addEventListener('change', function() {
      currentIndex = emails.indexOf(this.value);
      updateView();
    });

    prevBtn.addEventListener('click', function() {
      if (currentIndex > 0) {
        currentIndex--;
        updateView();
      }
    });

    nextBtn.addEventListener('click', function() {
      if (currentIndex < emails.length - 1) {
        currentIndex++;
        updateView();
      }
    });

    document.addEventListener('keydown', function(e) {
      if (e.key === 'ArrowLeft' && currentIndex > 0) {
        currentIndex--;
        updateView();
      } else if (e.key === 'ArrowRight' && currentIndex < emails.length - 1) {
        currentIndex++;
        updateView();
      }
    });

    // Initialize
    updateView();
  </script>
</body>
</html>
